<!-- Copyright (c) 2019 Christ Electronic System GmbH -->
<!-- All Rights Reserved. -->
<mat-toolbar>
    <mat-toolbar-row class="tabrow">
        <span>Kontakte</span>
        <span class="spacer"></span>
        <app-tags-filter></app-tags-filter>
        <mat-form-field>
            <mat-label>Suche</mat-label>
            <input class="input" matInput (keyup)="applyFilter($event)" placeholder="Kontakte...">
        </mat-form-field>
        <button id="addDummyButton" class="button" [disabled]=!permissionAdd mat-raised-button color="primary"
            title="Dummy Kontakt hinzufügen" (click)="addDummyContact()">
            <mat-icon>add</mat-icon> Dummy Kontakt hinzufügen
        </button>
        <button id="addButton" class="button" [disabled]="!permissionAdd" button="submit" mat-mini-fab color="primary"
            (click)="openAddDialog()">
            <mat-icon>add</mat-icon>
        </button>
    </mat-toolbar-row>
</mat-toolbar>

<div fxLayout="column" fxLayoutGap="100px">
    <mat-table id="contactsTable" #table [dataSource]="dataSource">
        <ng-container matColumnDef="vorname">
            <mat-header-cell *matHeaderCellDef> Vorname </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.preName}}
            </mat-cell>
        </ng-container>
        <ng-container matColumnDef="nachname">
            <mat-header-cell *matHeaderCellDef> Nachname </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.name}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="stasse">
            <mat-header-cell *matHeaderCellDef> Strasse </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.address.street}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="hausnummer">
            <mat-header-cell *matHeaderCellDef> Hausnummer </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.address.streetNumber}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="plz">
            <mat-header-cell *matHeaderCellDef> PLZ </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.address.zipcode}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="ort">
            <mat-header-cell *matHeaderCellDef> Ort </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.address.city}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="land">
            <mat-header-cell *matHeaderCellDef> Land </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.address.country}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="telefon">
            <mat-header-cell *matHeaderCellDef> Telefonnummer </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.contactPossibilities.phoneNumber}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="fax">
            <mat-header-cell *matHeaderCellDef> Faxnummer </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.contactPossibilities.fax}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="mail">
            <mat-header-cell *matHeaderCellDef> E-Mail </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.contactPossibilities.mail}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="action">
            <mat-header-cell mat-header-cell *matHeaderCellDef> Aktion </mat-header-cell>
            <mat-cell *matCellDef="let element" fxLayoutGap="5px">
                <button mat-icon-button [disabled]="!permissionInformContact" (click)="openDisclosureDialog(element.id)"
                    color="primary">
                    <mat-icon title="Kontaktauskunft" class="icon">description</mat-icon>
                </button>
                <button mat-icon-button [disabled]="!permissionModify" (click)="openEditDialog(element)"
                    color="primary">
                    <mat-icon title="Kontakt bearbeiten" class="icon">edit</mat-icon>
                </button>
                <button mat-icon-button [disabled]="!permissionModify" class="infoButton" (click)="openInfo(element.id)"
                    color="primary">
                    <mat-icon title="Kontaktinformationen anzeigen" class="icon">list</mat-icon>
                </button>
                <button mat-icon-button [disabled]="!permissionAddHistory" (click)="addNote(element.id)"
                    color="primary">
                    <mat-icon title="Historieneintrag hinzufügen" class="icon">note_add</mat-icon>
                </button>
                <button mat-icon-button [disabled]="!permissionDelete" (click)="deleteContact(element)" color="primary">
                    <mat-icon title="Kontakt löschen" class="icon">delete</mat-icon>
                </button>
            </mat-cell>
        </ng-container>
        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
    </mat-table>
</div>
<br>
